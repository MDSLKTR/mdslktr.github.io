var DataWrapper=React.createClass({displayName:"DataWrapper",getInitialState:function(){return{skills:[],passives:[],stats:[],"class":{},name:{},level:{},paragon:{},polling:!0,isHidden:!1,url:localStorage.getItem("url")}},loadCommentsFromServer:function(){this.state.polling===!0&&($.ajax({url:this.state.url,dataType:"jsonp",success:function(a){this.setState({name:a.name}),this.setState({"class":a["class"]}),this.setState({level:a.level}),this.setState({paragon:a.paragonLevel}),this.setState({skills:a.skills.active}),this.setState({passives:a.skills.passive}),this.setState({stats:a.stats})}.bind(this),error:function(a,b,c){this.setState({url:"invalid api url"}),console.error(this.state.url,b,c.toString())}.bind(this)}),console.log("updated"))},componentWillMount:function(){this.loadCommentsFromServer(),setInterval(this.loadCommentsFromServer,this.props.pollInterval)},componentDidMount:function(){},clickHandler:function(){this.setState({polling:!1});var a=this.state.url.replace(this.state.url,[prompt("Enter a new url")]);this.setState({url:a}),console.log(a),this.setState({polling:!0}),localStorage.setItem("url",a)},render:function(){var a=this.state.skills,b=[],c=this.state.passives,d=[],e=this.state.stats,f=[],g=this.state.name,h=this.state["class"],i=this.state.level,j=this.state.paragon,k=[],l=[];l="demon-hunter"===h?{backgroundImage:'url("/assets/images/dh.jpg")'}:"witch-doctor"===h?{backgroundImage:'url("/assets/images/wd.png")'}:{backgroundImage:'url("/assets/images/empty.svg")'},k.push(React.DOM.li({key:g.key},"Name: ",g)),k.push(React.DOM.li({key:h.key},"Class: ",h)),k.push(React.DOM.li({key:i.key+j.key},"Level: ",i)),k.push(React.DOM.li({key:j.key},"Paragon: ",j)),a.forEach(function(c){b.push(c.rune?React.DOM.li({key:a.key},c.skill.name," with ",c.rune.name):React.DOM.li({key:a.key},c.skill.name))}),c.forEach(function(a){d.push(React.DOM.li({key:c.key},a.skill.name))}),f.push(React.DOM.li({key:e.key},"Life: ",e.life)),f.push(React.DOM.li({key:e.key},"Damage: ",e.damage)),f.push(React.DOM.li({key:e.key},"Toughness: ",e.toughness));[e.strength,e.dexterity,e.intelligence];return"demon-hunter"===h?f.push(React.DOM.li({key:e.key},"Dexterity: ",e.dexterity)):"witch-doctor"===h?f.push(React.DOM.li({key:e.key},"Intelligence: ",e.intelligence)):"barbarian"===h?f.push(React.DOM.li({key:e.key},"Strength: ",e.strength)):console.log("new class?"),f.push(React.DOM.li({key:e.key},"Vitality: ",e.vitality)),React.DOM.div({className:"d3-container"},React.DOM.div({className:"d3-char-bg",key:h.key+"-image",style:l}),React.DOM.div({className:"d3-api-url",onClick:this.clickHandler},this.state.url),React.DOM.div({className:"d3-data"},React.DOM.ul({className:"base"},k),React.DOM.ul({className:"skills"},b),React.DOM.ul({className:"passives"},d),React.DOM.ul({className:"stats"},f)))}});React.render(React.createElement(DataWrapper,{pollInterval:5e3}),document.getElementById("profile-data"));