var statPool=["Damage_Dealt_Percent_Bonus#Fire","Damage_Dealt_Percent_Bonus#Physical","Damage_Dealt_Percent_Bonus#Cold","Damage_Dealt_Percent_Bonus#Poison","Damage_Dealt_Percent_Bonus#Lightning","Power_Cooldown_Reduction_Percent_All","Resource_Cost_Reduction_Percent_All","Damage_Percent_Bonus_Vs_Elites","Damage_Percent_Reduction_From_Elites","Splash_Damage_Effect_Percent","Gold_PickUp_Radius","Damage_Percent_Reduction_From_Melee","Damage_Percent_Reduction_From_Ranged","Hitpoints_Max_Percent_Bonus_Item","Attacks_Per_Second_Percent"],DamagePercentAll="Damage_Weapon_Percent_All",DamageBonusMinPhysical="Damage_Weapon_Bonus_Min_X1#Physical",weaponElementsMin=["Damage_Weapon_Min#Arcane","Damage_Weapon_Min#Fire","Damage_Weapon_Min#Lightning","Damage_Weapon_Min#Cold","Damage_Weapon_Min#Poison","Damage_Weapon_Bonus_Min_X1#Physical"],weaponElementsDelta=["Damage_Weapon_Delta#Arcane","Damage_Weapon_Delta#Fire","Damage_Weapon_Delta#Lightning","Damage_Weapon_Delta#Cold","Damage_Weapon_Delta#Poison","Damage_Weapon_Bonus_Delta_X1#Physical"],hellfirePassiveDisplay,hellfirePassiveLink,setPool=[["Cain's Fate",0],["Bastions of Will",0],["Aughild's Victory",0],["Aughild's Authority",0],["Guardian's Contingency",0],["Immortal King's Call",0],["Natalya's Vengeance",0],["Tal Rasha's Elements",0],["Sage's Plight",0],["Sage's Journey",0],["Born's Defiance",0],["Born's Command",0],["Unhallowed Essence",0],["Aughild's Authority",0],["Cain's Destiny",0],["Thorns of the Invoker",0],["Might of the Earth",0],["Firebird's Finery",0],["Guardian's Jeopardy",0],["Helltooth Harness",0],["Armor of Akkhan",0],["Wrath of the Wastes",0],["Raiment of the Jade Harvester",0],["Embodiment of the Marauder",0],["Raiment of a Thousand Storms",0],["The Legacy of Raekor",0],["Roland's Legacy",0],["Delsere's Magnum Opus",0],["Monkey King's Garb",0],["Asheara's Uniform",0],["Demon's Skin",0],["Demon's Hide",0],["Asheara's Vestments",0],["Thorns of the Invoker",0],["Delsere's Magnum Opus",0],["Blackthorne's Battlegear",0],["Inna's Mantra",0],["Vyr's Amazing Arcana",0],["Krelm's Buff Bulwark",0],["The Shadow's Mantle",0],["Endless Walk",0],["Legacy of Nightmares",0],["Hallowed Defenders",0],["Hallowed Protectors",0],["Manajuma's Way",0],["Zunimassa's Haunt",0],["Chantodo's Resolve",0],["Istvan's Paired Blades",0],["Shenlong's Spirit",0],["Bul-Kathos's Oath",0],["Danetta's Hatred",0],["Captain Crimson's Trimmings",0]],passiveBuffPool=[["Cull the Weak","Damage",.2],["Single Out","Crit Chance",.25],["Archery","Damage",.08],["Archery","Crit Damage",.5],["Archery","Crit Chance",.05],["Custom Engineering","Sentries",2],["Ambush","Damage",.4],["Ballistics","Damage",1],["Sharpshooter","Crit Chance",.04],["Grenadier","Damage",.1],["Steady Aim","Damage",.2]],skillBuffPool=[["Bait the Trap","Crit Chance",.1],["Wolf Companion","Damage",.3]],debuffPool=[["Marked for Death","Damage",.2]],gemPool=[["Zei's Stone of Vengeance","Item_Power_Passive#ItemPassive_Unique_Gem_012_x1"],["Bane of the Trapped","Item_Power_Passive#ItemPassive_Unique_Gem_002_x1"],["Gogok of the Swiftness","Item_Power_Passive#ItemPassive_Unique_Gem_008U_x1"]],fetchHerolist,fetchHeroData,fetchHeroItems,updateHerolist,updateHeroData,updateHeroItems,DataWrapper=React.createClass({displayName:"DataWrapper",getInitialState:function(){var a;return a=localStorage.getItem("realm")?localStorage.getItem("realm"):"eu",{skills:[],passives:[],stats:[],heroes:{},items:{},attributes:[],"class":"",name:"",level:"",paragon:"",helmItem:{},amuletItem:{},shouldersItem:{},bracersItem:{},chestItem:{},ringItemLeft:{},ringItemRight:{},mainItem:{},offItem:{},legsItem:{},bootsItem:{},glovesItem:{},beltItem:{},additionalStats:[],atkSpd:0,eliteDmg:0,eliteDmgRed:0,areaDmg:0,goldPickup:0,dmgRedMelee:0,dmgRedRanged:0,maxEleDmg:0,maxHealth:0,toggleItem:"toggle",paragonCdr:parseInt(localStorage.getItem("paragonCdr")),paragonResRed:parseInt(localStorage.getItem("paragonResRed")),paragonAtkSpd:parseInt(localStorage.getItem("paragonAtkSpd")),paragonCritDmg:parseInt(localStorage.getItem("paragonCritDmg")),paragonCritChance:parseInt(localStorage.getItem("paragonCritChance")),paragonAreaDmg:parseInt(localStorage.getItem("paragonAreaDmg")),paragonResource:parseInt(localStorage.getItem("paragonResource")),paragonResistAll:parseInt(localStorage.getItem("paragonResistAll")),paragonArmor:parseInt(localStorage.getItem("paragonArmor")),paragonMaxHealth:parseInt(localStorage.getItem("paragonMaxHealth")),invalid:!1,setRing:!1,time:0,toggle:"more",skillDescOpen:"",passiveDescOpen:"",hellfire_clear:"",url:"",itemUrl:"",realm:a,battleTag:localStorage.getItem("battleTag"),apiKey:"?locale=en_GB&apikey=65d63bvh7spjgmce3gjq2mv5nzjfsggy",profile:".api.battle.net/d3/profile/",itemIconBase:"http://media.blizzard.com/d3/icons/items/large/",skillIconBase:"http://media.blizzard.com/d3/icons/skills/64/",itemToolTipBase:".api.battle.net/d3/data/"}},loadHeroesData:function(){this.state.battleTag&&(this.setState({url:"https://"+this.state.realm+this.state.profile.concat(this.state.battleTag.replace(/#/g,"-"),"/",this.state.apiKey)}),$.ajax({url:this.state.url,dataType:"jsonp",success:function(a){this.setState({heroes:a}),clearInterval(fetchHerolist),clearInterval(updateHerolist)}.bind(this),error:function(a,b,c){console.error(this.state.url,b,c.toString())}.bind(this)}),console.log(this.state.url))},loadHeroData:function(){this.state.selected&&(this.setState({url:"https://"+this.state.realm+this.state.profile.concat(this.state.battleTag.replace(/#/g,"-"),"/hero/",this.state.selected,this.state.apiKey)}),$.ajax({url:this.state.url,dataType:"jsonp",success:function(a){this.setState({name:a.name,"class":a["class"],level:a.level,paragon:a.paragonLevel,stats:a.stats,items:a.items,time:a["last-updated"]}),a.skills&&this.setState({skills:a.skills.active,passives:a.skills.passive}),clearInterval(fetchHeroData),clearInterval(updateHeroData)}.bind(this),error:function(a,b,c){console.error(this.state.url,b,c.toString())}.bind(this)}),console.log(this.state.url))},loadItemData:function(a){this.setState({item:a}),this.setState({itemUrl:"https://"+this.state.realm+this.state.itemToolTipBase.concat(this.state.item,this.state.apiKey)}),$.ajax({url:this.state.itemUrl,dataType:"jsonp",success:function(a){switch(a.type.id){case"GenericHelm":case"Helm":case"Helm_Barbarian":case"Helm_DemonHunter":case"Helm_WitchDoctor":case"Helm_Crusader":case"Helm_Wizard":case"Helm_Monk":case"VoodooMask":this.setState({helmItem:a});break;case"GenericShoulders":case"Shoulders":case"Shoulders_Barbarian":case"Shoulders_DemonHunter":case"Shoulders_WitchDoctor":case"Shoulders_Crusader":case"Shoulders_Wizard":case"Shoulders_Monk":this.setState({shouldersItem:a});break;case"Bracers":this.setState({bracersItem:a});break;case"ChestArmor":case"GenericChestArmor":case"ChestArmor_Barbarian":case"ChestArmor_DemonHunter":case"ChestArmor_WitchDoctor":case"ChestArmor_Crusader":case"ChestArmor_Wizard":case"ChestArmor_Monk":case"Cloak":this.setState({chestItem:a});break;case"GenericLegs":case"Legs":case"Legs_Barbarian":case"Legs_DemonHunter":case"Legs_WitchDoctor":case"Legs_Crusader":case"Legs_Wizard":case"Legs_Monk":this.setState({legsItem:a});break;case"GenericBoots":case"Boots":case"Boots_Barbarian":case"Boots_DemonHunter":case"Boots_WitchDoctor":case"Boots_Crusader":case"Boots_Wizard":case"Boots_Monk":this.setState({bootsItem:a});break;case"Polearm":case"Crossbow":case"Dagger":case"Sword":case"Sword2H":case"Mace":case"Axe":case"FistWeapon":case"CeremonialKnife":case"MightyWeapon1H":case"Flail2H":case"Flail1H":case"HandXbow":case"Bow2H":case"Bow":case"Wand":case"Staff":case"Staff2H":case"CeremonialDagger":case"MightyWeapon2H":case"Mace2H":this.setState({mainItem:a});break;case"GenericGloves":case"Gloves":case"Gloves_Barbarian":case"Gloves_DemonHunter":case"Gloves_WitchDoctor":case"Gloves_Crusader":case"Gloves_Wizard":case"Gloves_Monk":this.setState({glovesItem:a});break;case"Belt":case"GenericBelt":case"Belt_Barbarian":this.setState({beltItem:a});break;case"Amulet":this.setState({amuletItem:a})}this.triggerStatCollector()}.bind(this),error:function(a,b,c){console.error(this.state.url,b,c.toString())}.bind(this)}),console.log(this.state.itemUrl)},loadItemDataWithProps:function(a,b){this.setState({item:a}),this.setState({itemUrl:"https://"+this.state.realm+this.state.itemToolTipBase.concat(this.state.item,this.state.apiKey)}),$.ajax({url:this.state.itemUrl,dataType:"jsonp",success:function(a){switch(a.type.id){case"Ring":b===!0?this.setState({ringItemLeft:a}):this.setState({ringItemRight:a});break;case"Quiver":case"CrusaderShield":case"Shield":case"Orb":case"Source":case"Mojo":this.setState({offItem:a});break;case"Dagger":case"Sword":case"Mace":case"Axe":case"FistWeapon":case"MightyWeapon1H":case"Flail1H":case"HandXbow":case"Bow":case"Wand":case"Staff":this.setState({offItem:a})}this.triggerStatCollector()}.bind(this),error:function(a,b,c){console.error(this.state.url,b,c.toString())}.bind(this)}),console.log(this.state.itemUrl)},changeChar:function(){updateHeroData=setInterval(this.loadHeroData,200),updateHeroItems=setInterval(this.getItemData,750)},changeBattleTag:function(){clearInterval(updateHerolist),updateHerolist=setInterval(this.loadHeroesData,200)},triggerStatCollector:function(){this.collectStats(),console.log("manual stat collector")},componentDidMount:function(){fetchHerolist=setInterval(this.loadHeroesData,200),fetchHeroData=setInterval(this.loadHeroData,200),fetchHeroItems=setInterval(this.getItemData,500),setInterval(this.loadHeroesData,this.props.pollInterval),setInterval(this.loadHeroData,this.props.pollInterval),setInterval(this.getItemData,this.props.pollInterval),parseInt(localStorage.getItem("paragonCdr"))||this.setState({paragonCdr:0}),parseInt(localStorage.getItem("paragonResRed"))||this.setState({paragonResRed:0}),parseInt(localStorage.getItem("paragonAtkSpd"))||this.setState({paragonAtkSpd:0}),parseInt(localStorage.getItem("paragonCritChance"))||this.setState({paragonCritChance:0}),parseInt(localStorage.getItem("paragonCritDmg"))||this.setState({paragonCritDmg:0}),parseInt(localStorage.getItem("paragonAreaDmg"))||this.setState({paragonAreaDmg:0}),parseInt(localStorage.getItem("paragonResource"))||this.setState({paragonResource:0}),parseInt(localStorage.getItem("paragonResistAll"))||this.setState({paragonResistAll:0}),parseInt(localStorage.getItem("paragonArmor"))||this.setState({paragonArmor:0}),parseInt(localStorage.getItem("paragonMaxHealth"))||this.setState({paragonMaxHealth:0})},handleChange:function(a){var b=a.target.value;this.setState({battleTag:b}),localStorage.setItem("battleTag",b),this.setState({heroes:{},items:{},skills:[],passives:[],stats:[],attributes:[],"class":{},name:{},level:{},paragon:{},time:0,toggle:"more",skillDescOpen:"",passiveDescOpen:"",setRing:!1}),this.changeBattleTag()},setRealm:function(a){var b=a.target.value;this.setState({realm:b}),localStorage.setItem("realm",b),this.setState({heroes:{},items:{},skills:[],passives:[],stats:[],attributes:[],"class":{},name:{},level:{},paragon:{},time:0,toggle:"more",skillDescOpen:"",passiveDescOpen:"",setRing:!1}),this.changeBattleTag()},setSelect:function(){var a=this.refs.select.getDOMNode().value;this.setState({selected:a}),this.setState({panels:"visible"}),this.changeChar(),this.state.heroes.code?this.setState({invalid:!0}):this.setState({invalid:!1})},handleBonusStatsClick:function(){return this.triggerStatCollector(),"more"!==this.state.toggle?this.setState({toggle:"more"}):this.setState({toggle:"less"})},handleSkillDescClick:function(){return"open"===this.state.skillDescOpen?this.setState({skillDescOpen:""}):this.setState({skillDescOpen:"open"})},handlePassiveDescClick:function(){return"open"===this.state.passiveDescOpen?this.setState({passiveDescOpen:""}):this.setState({passiveDescOpen:"open"})},handleItemClick:function(a){!$(a.target).hasClass("open")&&$(a.target).hasClass("toggle")?($(a.target).addClass("open"),$(a.target).parent().children().hasClass("open")&&$(a.target).parent().children().not($(a.target)).removeClass("open")):$(a.target).removeClass("open")},handleParagon:function(a){var b=$(a.target).parent(),c=$(a.target);b.hasClass("cdr")?c.hasClass("paragon-stat-increment")?this.state.paragonCdr<10&&this.setState({paragonCdr:Math.round(10*(this.state.paragonCdr+.2))/10}):c.hasClass("paragon-stat-max")&&!c.hasClass("maxed")?(c.addClass("maxed"),this.setState({paragonCdr:10})):c.hasClass("paragon-stat-max")&&c.hasClass("maxed")?(c.removeClass("maxed"),this.setState({paragonCdr:0})):this.state.paragonCdr>0&&this.setState({paragonCdr:Math.round(10*(this.state.paragonCdr-.2))/10}):b.hasClass("resred")?c.hasClass("paragon-stat-increment")?this.state.paragonResRed<10&&this.setState({paragonResRed:Math.round(10*(this.state.paragonResRed+.2))/10}):c.hasClass("paragon-stat-max")&&!c.hasClass("maxed")?(c.addClass("maxed"),this.setState({paragonResRed:10})):c.hasClass("paragon-stat-max")&&c.hasClass("maxed")?(c.removeClass("maxed"),this.setState({paragonResRed:0})):this.state.paragonResRed>0&&this.setState({paragonResRed:Math.round(10*(this.state.paragonResRed-.2))/10}):b.hasClass("atkspd")?c.hasClass("paragon-stat-increment")?this.state.paragonAtkSpd<10&&this.setState({paragonAtkSpd:Math.round(10*(this.state.paragonAtkSpd+.2))/10}):c.hasClass("paragon-stat-max")&&!c.hasClass("maxed")?(c.addClass("maxed"),this.setState({paragonAtkSpd:10})):c.hasClass("paragon-stat-max")&&c.hasClass("maxed")?(c.removeClass("maxed"),this.setState({paragonAtkSpd:0})):this.state.paragonAtkSpd>0&&this.setState({paragonAtkSpd:Math.round(10*(this.state.paragonAtkSpd-.2))/10}):b.hasClass("critdmg")?c.hasClass("paragon-stat-increment")?this.state.paragonCritDmg<50&&this.setState({paragonCritDmg:Math.round(10*(this.state.paragonCritDmg+1))/10}):c.hasClass("paragon-stat-max")&&!c.hasClass("maxed")?(c.addClass("maxed"),this.setState({paragonCritDmg:50})):c.hasClass("paragon-stat-max")&&c.hasClass("maxed")?(c.removeClass("maxed"),this.setState({paragonCritDmg:0})):this.state.paragonCritDmg>0&&this.setState({paragonCritDmg:Math.round(10*(this.state.paragonCritDmg-1))/10}):b.hasClass("critchance")?c.hasClass("paragon-stat-increment")?this.state.paragonCritChance<5&&this.setState({paragonCritChance:Math.round(10*(this.state.paragonCritChance+.1))/10}):c.hasClass("paragon-stat-max")&&!c.hasClass("maxed")?(c.addClass("maxed"),this.setState({paragonCritChance:5})):c.hasClass("paragon-stat-max")&&c.hasClass("maxed")?(c.removeClass("maxed"),this.setState({paragonCritChance:0})):this.state.paragonCritChance>0&&this.setState({paragonCritChance:Math.round(10*(this.state.paragonCritChance-.1))/10}):b.hasClass("areadmg")?c.hasClass("paragon-stat-increment")?this.state.paragonAreaDmg<50&&this.setState({paragonAreaDmg:Math.round(10*(this.state.paragonAreaDmg+1))/10}):c.hasClass("paragon-stat-max")&&!c.hasClass("maxed")?(c.addClass("maxed"),this.setState({paragonAreaDmg:50})):c.hasClass("paragon-stat-max")&&c.hasClass("maxed")?(c.removeClass("maxed"),this.setState({paragonAreaDmg:0})):this.state.paragonAreaDmg>0&&this.setState({paragonAreaDmg:Math.round(10*(this.state.paragonAreaDmg-1))/10}):b.hasClass("resource")?c.hasClass("paragon-stat-increment")?this.state.paragonResource<25&&this.setState({paragonResource:Math.round(10*(this.state.paragonResource+.5))/10}):c.hasClass("paragon-stat-max")&&!c.hasClass("maxed")?(c.addClass("maxed"),this.setState({paragonResource:25})):c.hasClass("paragon-stat-max")&&c.hasClass("maxed")?(c.removeClass("maxed"),this.setState({paragonResource:0})):this.state.paragonResource>0&&this.setState({paragonResource:Math.round(10*(this.state.paragonResource-.5))/10}):b.hasClass("resistall")?c.hasClass("paragon-stat-increment")?this.state.paragonResistAll<250&&this.setState({paragonResistAll:Math.round(10*(this.state.paragonResistAll+5))/10}):c.hasClass("paragon-stat-max")&&!c.hasClass("maxed")?(c.addClass("maxed"),this.setState({paragonResistAll:250})):c.hasClass("paragon-stat-max")&&c.hasClass("maxed")?(c.removeClass("maxed"),this.setState({paragonResistAll:0})):this.state.paragonResistAll>0&&this.setState({paragonResistAll:Math.round(10*(this.state.paragonResistAll-5))/10}):b.hasClass("armor")?c.hasClass("paragon-stat-increment")?this.state.paragonArmor<25&&this.setState({paragonArmor:Math.round(10*(this.state.paragonArmor+.5))/10}):c.hasClass("paragon-stat-max")&&!c.hasClass("maxed")?(c.addClass("maxed"),this.setState({paragonArmor:25})):c.hasClass("paragon-stat-max")&&c.hasClass("maxed")?(c.removeClass("maxed"),this.setState({paragonArmor:0})):this.state.paragonArmor>0&&this.setState({paragonArmor:Math.round(10*(this.state.paragonArmor-.5))/10}):b.hasClass("maxlife")&&(c.hasClass("paragon-stat-increment")?this.state.paragonMaxHealth<25&&this.setState({paragonMaxHealth:Math.round(10*(this.state.paragonMaxHealth+.5))/10}):c.hasClass("paragon-stat-max")&&!c.hasClass("maxed")?(c.addClass("maxed"),this.setState({paragonMaxHealth:25})):c.hasClass("paragon-stat-max")&&c.hasClass("maxed")?(c.removeClass("maxed"),this.setState({paragonMaxHealth:0})):this.state.paragonMaxHealth>0&&this.setState({paragonMaxHealth:Math.round(10*(this.state.paragonMaxHealth-.5))/10})),this.triggerStatCollector()},getItemData:function(){var a,b;if(this.setState({helmItem:{},amuletItem:{},chestItem:{},bootsItem:{},glovesItem:{},shouldersItem:{},legsItem:{},bracersItem:{},mainItem:{},offItem:{},beltItem:{},ringItemLeft:{},ringItemRight:{}}),this.state.items){var c=[this.state.items.neck,this.state.items.head,this.state.items.torso,this.state.items.feet,this.state.items.hands,this.state.items.shoulders,this.state.items.legs,this.state.items.bracers,this.state.items.mainHand,this.state.items.waist],d=[[this.state.items.leftFinger,"left"],[this.state.items.rightFinger,"right"],[this.state.items.offHand,null]];for(a=0;a<c.length;a++)c[a]&&(b=c[a].tooltipParams,this.loadItemData(b));for(a=0;a<d.length;a++)d[a][0]&&(b=d[a][0].tooltipParams,"left"===d[a][1]?this.loadItemDataWithProps(b,!0):this.loadItemDataWithProps(b,!1))}clearInterval(updateHeroItems),clearInterval(fetchHeroItems)},skillDmgSanitize:function(a){var b="",c="",d=0,e=[];for(var f in a)a.hasOwnProperty(f)&&(c=f.toString().slice(4),parseFloat(f)&&(d=parseFloat(f)*parseFloat(a[f])),0!==d&&(b+=c+" "+Math.round(1e4*d)/100+"%<br>",e.push(d+" "+c)));return""!==b?(this.setState({skillDmgRaw:e}),b):void 0},collectStats:function(){var a,b,c,d,e,f,g=[],h=1,i=1,j=1,k=1,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0;if(this.state.items){var w=[this.state.helmItem,this.state.amuletItem,this.state.chestItem,this.state.bootsItem,this.state.glovesItem,this.state.shouldersItem,this.state.legsItem,this.state.bracersItem,this.state.mainItem,this.state.offItem,this.state.beltItem,this.state.ringItemLeft,this.state.ringItemRight];for(a=0;a<w.length;a++)if(w[a]&&w[a].attributesRaw)for(b=0;b<statPool.length;b++)if(w[a].attributesRaw[statPool[b]]&&w[a].attributesRaw[statPool[b]].min)switch(g[b]=Math.round(1e3*w[a].attributesRaw[statPool[b]].min)/1e3,statPool[b]){case"Damage_Dealt_Percent_Bonus#Fire":o+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Cold":p+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Lightning":q+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Physical":r+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Poison":s+=100*g[b];break;case"Power_Cooldown_Reduction_Percent_All":h*=1-g[b];break;case"Resource_Cost_Reduction_Percent_All":i*=1-g[b];break;case"Damage_Percent_Bonus_Vs_Elites":l+=100*g[b];break;case"Damage_Percent_Reduction_From_Elites":m+=100*g[b];break;case"Splash_Damage_Effect_Percent":n+=100*g[b];break;case"Gold_PickUp_Radius":t+=g[b];break;case"Damage_Percent_Reduction_From_Melee":j*=1-g[b];break;case"Damage_Percent_Reduction_From_Ranged":k*=1-g[b];break;case"Hitpoints_Max_Percent_Bonus_Item":u+=100*g[b];break;case"Attacks_Per_Second_Percent":v+=g[b];break;default:console.log("default")}if(this.state["class"]&&this.state.skills&&this.state.skills.length>0){var x=[];for(d=0;d<this.state.skills.length;d++)if(this.state.skills[d].skill)switch(this.state["class"]){case"demon-hunter":x.push("Power_Damage_Percent_Bonus#DemonHunter_"+this.state.skills[d].skill.name.replace(/ /g,""));break;case"witch-doctor":x.push("Power_Damage_Percent_Bonus#Witchdoctor_"+this.state.skills[d].skill.name.replace(/ /g,""));break;case"barbarian":x.push("Power_Damage_Percent_Bonus#Barbarian_"+this.state.skills[d].skill.name.replace(/ /g,""));break;case"crusader":x.push("Power_Damage_Percent_Bonus#Crusader_"+this.state.skills[d].skill.name.replace(/ /g,""));break;case"monk":x.push("Power_Damage_Percent_Bonus#Monk_"+this.state.skills[d].skill.name.replace(/ /g,""));break;case"wizard":x.push("Power_Damage_Percent_Bonus#Wizard_"+this.state.skills[d].skill.name.replace(/ /g,""))}var y=[],z=[];for(a=0;a<w.length;a++)if(w[a]&&w[a].attributesRaw)for(b=0;b<x.length;b++)w[a].attributesRaw[x[b]]&&w[a].attributesRaw[x[b]].min&&(g[b]=Math.round(1e3*w[a].attributesRaw[x[b]].min)/1e3,Object.getOwnPropertyNames(w[a].attributesRaw[x[b]]===x[b])&&(y.push(this.state.skills[b].skill.name+" "+Math.round(1e4*w[a].attributesRaw[x[b]].min)/100+"%"),z.push(w[a].attributesRaw[x[b]].min+this.state.skills[b].skill.name),f=z.reduce(function(a,b){return b in a?a[b]++:a[b]=1,a},{})))}var A=[],B=[];for(a=0;a<w.length;a++)A.push(w[a].name),A.indexOf("Ring of Royal Grandeur")>-1?this.setState({setRing:!0}):this.setState({setRing:!1});for(a=0;a<w.length;a++)if(w[a]&&w[a].set&&w[a].set.ranks){for(d=0;d<setPool.length;d++)for(w[a].set.name===setPool[d][0]&&setPool[d][1]++,c=0;c<w[a].set.ranks.length;c++)if(this.state.setRing===!0&&w[a].set.name===setPool[d][0]&&w[a].set.ranks[c].required<=setPool[d][1]+1&&setPool[d][1]>=2){for(b=0;b<statPool.length;b++)if(w[a].set.ranks[c].attributesRaw[statPool[b]]&&w[a].set.ranks[c].attributesRaw[statPool[b]].min)switch(g[b]=Math.round(1e3*w[a].set.ranks[c].attributesRaw[statPool[b]].min)/1e3,statPool[b]){case"Damage_Dealt_Percent_Bonus#Fire":o+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Cold":p+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Lightning":q+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Physical":r+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Poison":s+=100*g[b];break;case"Power_Cooldown_Reduction_Percent_All":h*=1-g[b];break;case"Resource_Cost_Reduction_Percent_All":i*=1-g[b];break;case"Damage_Percent_Bonus_Vs_Elites":l+=100*g[b];break;case"Damage_Percent_Reduction_From_Elites":m+=100*g[b];break;case"Splash_Damage_Effect_Percent":n+=100*g[b];break;case"Gold_PickUp_Radius":t+=g[b];break;case"Damage_Percent_Reduction_From_Melee":j*=1-g[b];break;case"Damage_Percent_Reduction_From_Ranged":k*=1-g[b];break;case"Hitpoints_Max_Percent_Bonus_Item":u+=100*g[b];break;case"Attacks_Per_Second_Percent":v+=g[b]}}else if(this.state.setRing===!1&&w[a].set.name===setPool[d][0]&&w[a].set.ranks[c].required<=setPool[d][1])for(b=0;b<statPool.length;b++)if(w[a].set.ranks[c].attributesRaw[statPool[b]]&&w[a].set.ranks[c].attributesRaw[statPool[b]].min)switch(g[b]=Math.round(1e3*w[a].set.ranks[c].attributesRaw[statPool[b]].min)/1e3,statPool[b]){case"Damage_Dealt_Percent_Bonus#Fire":o+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Cold":p+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Lightning":q+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Physical":r+=100*g[b];break;case"Damage_Dealt_Percent_Bonus#Poison":s+=100*g[b];break;case"Power_Cooldown_Reduction_Percent_All":h*=1-g[b];break;case"Resource_Cost_Reduction_Percent_All":i*=1-g[b];break;case"Damage_Percent_Bonus_Vs_Elites":l+=100*g[b];break;case"Damage_Percent_Reduction_From_Elites":m+=100*g[b];break;case"Splash_Damage_Effect_Percent":n+=100*g[b];break;case"Gold_PickUp_Radius":t+=g[b];break;case"Damage_Percent_Reduction_From_Melee":j*=1-g[b];break;case"Damage_Percent_Reduction_From_Ranged":k*=1-g[b];break;case"Hitpoints_Max_Percent_Bonus_Item":u+=100*g[b];break;case"Attacks_Per_Second_Percent":v+=g[b]}if(B.indexOf(w[a].set.name)>-1)continue;B.push(w[a].set.name)}this.state.helmItem&&this.state.helmItem.gems&&this.state.helmItem.gems[0]&&this.state.helmItem.attributesRaw&&(this.state.helmItem.gems[0].attributesRaw.Power_Cooldown_Reduction_Percent_All&&this.state.helmItem.attributesRaw.Gem_Attributes_Multiplier?h*=1-this.state.helmItem.gems[0].attributesRaw.Power_Cooldown_Reduction_Percent_All.min-this.state.helmItem.gems[0].attributesRaw.Power_Cooldown_Reduction_Percent_All.min*this.state.helmItem.attributesRaw.Gem_Attributes_Multiplier.min:this.state.helmItem.gems[0].attributesRaw.Power_Cooldown_Reduction_Percent_All&&!this.state.helmItem.attributesRaw.Gem_Attributes_Multiplier&&(h*=1-this.state.helmItem.gems[0].attributesRaw.Power_Cooldown_Reduction_Percent_All.min),this.state.helmItem.gems[0].attributesRaw.Hitpoints_Max_Percent_Bonus_Item&&this.state.helmItem.attributesRaw.Gem_Attributes_Multiplier?u+=100*this.state.helmItem.gems[0].Hitpoints_Max_Percent_Bonus_Item.min+100*this.state.helmItem.gems[0].Hitpoints_Max_Percent_Bonus_Item.min*this.state.helmItem.attributesRaw.Gem_Attributes_Multiplier.min:this.state.helmItem.gems[0].attributesRaw.Hitpoints_Max_Percent_Bonus_Item&&!this.state.helmItem.attributesRaw.Gem_Attributes_Multiplier&&(u+=100*this.state.helmItem.gems[0].Hitpoints_Max_Percent_Bonus_Item.min));var C,D=[o,s,q,r,p],E=D.reduce(function(a,b){return a>=b?a:b},-(1/0));switch(E){case o:C="Fire Damage Increase: "+Math.round(100*E)/100+"%";break;case p:C="Cold Damage Increase: "+Math.round(100*E)/100+"%";break;case r:C="Physical Damage Increase: "+Math.round(100*E)/100+"%";break;case q:C="Lightning Damage Increase: "+Math.round(100*E)/100+"%";break;case s:C="Poison Damage Increase: "+Math.round(100*E)/100+"%"}h*=1-this.state.paragonCdr/100,i*=1-this.state.paragonResRed/100,u+=this.state.paragonMaxHealth,e=this.skillDmgSanitize(f),0!==E?(this.setState({maxEleDmg:C}),this.setState({maxEleDmgValue:E})):(this.setState({maxEleDmg:""}),this.setState({maxEleDmgValue:0})),this.setState({cdrRed:h}),this.setState({resRed:i}),this.setState({eliteDmg:l}),this.setState({eliteDmgRed:m}),this.setState({areaDmg:n}),this.setState({goldPickup:t}),this.setState({dmgRedMelee:j}),this.setState({dmgRedRanged:k}),this.setState({maxHealth:u}),this.setState({skillDmg:e}),this.setState({atkSpd:v})}},render:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this.state.skills,v=[],w=[],x=this.state.passives,y=[],z=[],A=this.state.stats,B=[],C=this.state.name,D=[],E=[],F=this.state.heroes,G=this.state.items,H=this.state["class"],I=this.state.level,J=this.state.paragon,K=this.state.amuletItem,L=this.state.shouldersItem,M=[],N=this.state.helmItem,O=[],P=this.state.chestItem,Q=[],R=this.state.glovesItem,S=[],T=this.state.bootsItem,U=[],V=this.state.bracersItem,W=[],X=this.state.legsItem,Y=[],Z=this.state.mainItem,$=[],_=this.state.offItem,aa=[],ba=this.state.beltItem,ca=[],da=this.state.amuletItem,ea=[],fa=this.state.ringItemLeft,ga=[],ha=[],ia=this.state.ringItemRight,ja=[],ka=[],la=[],ma=this.state.items,na=[],oa=this.state.skillIconBase,pa=this.state.itemIconBase,qa=this.state.toggleItem,ra=this.state.time,sa=[],ta=[],ua=this.state.cdrRed,va=this.state.resRed,wa=this.state.eliteDmg,xa=this.state.eliteDmgRed,ya=this.state.areaDmg,za=this.state.goldPickup,Aa=this.state.dmgRedMelee,Ba=this.state.dmgRedRanged,Ca=this.state.maxEleDmg,Da=this.state.maxHealth,Ea=this.state.skillDmg,Fa=this.state.skillDmgRaw,Ga=this.state.atkSpd,Ha=[],Ia=this.state.paragonCdr,Ja=this.state.paragonAtkSpd,Ka=this.state.paragonResRed,La=this.state.paragonCritDmg,Ma=this.state.paragonCritChance,Na=this.state.paragonAreaDmg,Oa=this.state.paragonResource,Pa=this.state.paragonResistAll,Qa=this.state.paragonArmor,Ra=this.state.paragonMaxHealth,Sa=0,Ta=0,Ua=0,Va=[this.state.helmItem,this.state.amuletItem,this.state.chestItem,this.state.bootsItem,this.state.glovesItem,this.state.shouldersItem,this.state.legsItem,this.state.bracersItem,this.state.mainItem,this.state.offItem,this.state.beltItem,this.state.ringItemLeft,this.state.ringItemRight];for(r=0;r<Va.length;r++)for(t=0;t<setPool.length;t++)Va[r]&&Va[r].set&&Va[r].set.name===setPool[t][0]&&setPool[t][1]++;switch(E.push(React.DOM.option({key:"eu",value:"eu"},"EU")),E.push(React.DOM.option({key:"us",value:"us"},"US")),E.push(React.DOM.option({key:"kr",value:"kr"},"KR")),H){case"demon-hunter":la={backgroundImage:'url("../../assets/images/dh.png")'};break;case"witch-doctor":la={backgroundImage:'url("../../assets/images/wd.png")'};break;case"barbarian":la={backgroundImage:'url("../../assets/images/barbarian.png")'};break;case"crusader":la={backgroundImage:'url("../../assets/images/crusader.png")'};break;case"monk":la={backgroundImage:'url("../../assets/images/monk.png")'};break;case"wizard":la={backgroundImage:'url("../../assets/images/wiz.jpg")'};break;default:la={backgroundImage:"none"}}if(F.heroes?(D.push(React.DOM.option({key:F.heroes.key,value:"",style:{display:"none"}},"click to select hero")),F.heroes.forEach(function(a){D.push(React.DOM.option({key:F.heroes.key,value:a.id},"["+a["class"]+"] "+a.name+" (id: "+a.id+")"))})):F.code?D.push(React.DOM.option({key:F.code.key,value:"",style:{display:"none"}},"invalid battleTag")):null===this.state.battleTag||""===this.state.battleTag?D.push(React.DOM.option({value:"",style:{display:"none"}},"enter your battleTag in the field below")):D.push(React.DOM.option({value:"",style:{display:"none"}},"loading herolist...")),C&&H&&I){var Wa=H.toString().replace(/-/g,"").charAt(0).toUpperCase()+H.toString().replace(/-/g,"").slice(1).toLowerCase();ka.push(React.DOM.div({key:C.key},"Name: ",C)),ka.push(React.DOM.div({key:"class-name"},"Class: ",Wa)),ka.push(React.DOM.div({key:I.key},"Level: ",I)),J&&ka.push(React.DOM.div({key:J.key},"Paragon: ",J))}else ka.push(React.DOM.div({key:"class-name"},"Class: "));if(ra&&1e3*ra!==0){var Xa=new Date(1e3*ra),Ya=Xa.toLocaleDateString()+" - "+Xa.toLocaleTimeString();ka.push(React.DOM.div({key:ra.key,className:"last-updated"},"last-updated on: "+Ya))}if(u!==[]&&u.forEach(function(b){var c;if(b.rune){switch(a=oa.concat(b.skill.icon),b.rune.type){case"a":c={backgroundPosition:"0 0"};break;case"b":c={backgroundPosition:"0 25%"};break;case"c":c={backgroundPosition:"0 49%"};break;case"d":c={backgroundPosition:"0 73%"};break;case"e":c={backgroundPosition:"0 97%"}}v.push(React.DOM.div({key:u.key,className:"hasIcon"},b.skill.name," with ",b.rune.name,React.DOM.div({key:u.key,className:"icon-front",style:{backgroundImage:"url("+a+".png)"}}),React.DOM.div({key:u.key,className:"icon-back",style:c}))),w.push(React.DOM.div({key:u.key,className:"description"},React.DOM.div({key:u.key,className:"desc-icon",style:{backgroundImage:"url("+a+".png)"}}),b.skill.name+" with "+b.rune.name,React.DOM.p({dangerouslySetInnerHTML:{__html:b.skill.description.replace(/\n/g,"<br/>")},key:u.key,className:"skill-desc"}),React.DOM.p({dangerouslySetInnerHTML:{__html:b.rune.description.replace(/\n/g,"<br/>")},key:u.key,className:"rune-desc"})))}else b.skill&&(a=oa.concat(b.skill.icon),v.push(React.DOM.div({key:u.key,className:"hasIcon"},b.skill.name,React.DOM.div({key:u.key,className:"icon-front no-rune",style:{backgroundImage:"url("+a+".png)"}}))),w.push(React.DOM.div({key:u.key,className:"description"},React.DOM.div({key:u.key,className:"desc-icon",style:{backgroundImage:"url("+a+".png)"}}),b.skill.name,React.DOM.p({dangerouslySetInnerHTML:{__html:b.skill.description.replace(/\n/g,"<br/>")},key:u.key,className:"skill-desc"}))))}),x!==[]&&x.forEach(function(b){b.skill&&(a=oa.concat(b.skill.icon),y.push(React.DOM.div({key:x.key,className:"hasIcon"},b.skill.name,React.DOM.div({key:x.key,className:"icon",style:{backgroundImage:"url("+a+".png)"}}))),z.push(React.DOM.div({key:x.key,className:"description"},React.DOM.div({key:x.key,className:"desc-icon",style:{backgroundImage:"url("+a+".png)"}}),b.skill.name,React.DOM.p({dangerouslySetInnerHTML:{__html:b.skill.description.replace(/\n/g,"<br/>")},key:x.key,className:"passive-desc"}))))}),ma&&ma.head&&N){switch(a=pa.concat(ma.head.icon,".png"),G.head.displayColor){case"green":b="set";
break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(N.attributesRaw&&(N.attributesRaw.Ancient_Rank&&1===N.attributesRaw.Ancient_Rank.min?(c="ancient",O.push(React.DOM.li({key:N.key,className:b+" name"},c+" "+G.head.name))):(c="",O.push(React.DOM.li({key:N.key,className:b+" name"},G.head.name)))),N.attributes&&(N.attributes.primary&&N.attributes.primary.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"primary"},a.text))}),N.attributes.secondary&&N.attributes.secondary.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"secondary"},a.text))}),N.attributes.passive&&N.attributes.passive.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"passive"},a.text))})),N.set&&N.set.ranks)for(r=0;r<N.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)N.set.name===setPool[t][0]&&this.state.setRing?e=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:N.set.name!==setPool[t][0]||this.state.setRing||(e=setPool[t][1]);N.set.ranks[r].required===s&&N.set.ranks[r].required<=e?N.set.ranks[r].attributes.primary.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"set-bonus-"+s},a.text))}):N.set.ranks[r].required===s&&N.set.ranks[r].attributes.primary.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"set-bonus-"+s+" inactive"},a.text))}),N.set.ranks[r].required===s&&N.set.ranks[r].required<=e?N.set.ranks[r].attributes.secondary.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"set-bonus-"+s},a.text))}):N.set.ranks[r].required===s&&N.set.ranks[r].attributes.secondary.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"set-bonus-"+s+" inactive"},a.text))}),N.set.ranks[r].required===s&&N.set.ranks[r].required<=e?N.set.ranks[r].attributes.passive.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"set-bonus-"+s},a.text))}):N.set.ranks[r].required===s&&N.set.ranks[r].attributes.passive.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"set-bonus-"+s+" inactive"},a.text))})}N.attributesRaw&&N.attributesRaw.Sockets&&N.gems[0]&&(d=pa.concat(N.gems[0].item.icon,".png"),O.push(React.DOM.li({key:N.key,className:"socket",style:{backgroundImage:"url("+d+")"}})),N.gems[0].attributes.primary&&N.gems[0].attributes.primary.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"gem-passive"},a.text))}),N.gems[0].attributes.secondary&&N.gems[0].attributes.secondary.forEach(function(a){O.push(React.DOM.li({key:N.key,className:"gem-passive"},a.text))})),na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" head",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:N.key,className:"desc"},React.DOM.ul({key:N.key,className:"stats"},O))))}if(ma&&ma.torso&&P){switch(a=pa.concat(ma.torso.icon,".png"),G.torso.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(P.attributesRaw&&(P.attributesRaw.Ancient_Rank&&1===P.attributesRaw.Ancient_Rank.min?(c="ancient",Q.push(React.DOM.li({key:P.key,className:b+" name"},c+" "+G.torso.name))):(c="",Q.push(React.DOM.li({key:P.key,className:b+" name"},G.torso.name)))),P.attributes&&(P.attributes.primary&&P.attributes.primary.forEach(function(a){Q.push(React.DOM.li({key:P.key,className:"primary"},a.text))}),P.attributes.secondary&&P.attributes.secondary.forEach(function(a){Q.push(React.DOM.li({key:P.key,className:"secondary"},a.text))}),P.attributes.passive&&P.attributes.passive.forEach(function(a){Q.push(React.DOM.li({key:P.key,className:"passive"},a.text))})),P.set&&P.set.ranks)for(r=0;r<P.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)P.set.name===setPool[t][0]&&this.state.setRing?f=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:P.set.name!==setPool[t][0]||this.state.setRing||(f=setPool[t][1]);P.set.ranks[r].required===s&&P.set.ranks[r].required<=f?P.set.ranks[r].attributes.primary.forEach(function(a){Q.push(React.DOM.li({key:P.key,className:"set-bonus-"+s},a.text))}):P.set.ranks[r].required===s&&P.set.ranks[r].attributes.primary.forEach(function(a){Q.push(React.DOM.li({key:P.key,className:"set-bonus-"+s+" inactive"},a.text))}),P.set.ranks[r].required===s&&P.set.ranks[r].required<=f?P.set.ranks[r].attributes.secondary.forEach(function(a){Q.push(React.DOM.li({key:P.key,className:"set-bonus-"+s},a.text))}):P.set.ranks[r].required===s&&P.set.ranks[r].attributes.secondary.forEach(function(a){Q.push(React.DOM.li({key:P.key,className:"set-bonus-"+s+" inactive"},a.text))}),P.set.ranks[r].required===s&&P.set.ranks[r].required<=f?P.set.ranks[r].attributes.passive.forEach(function(a){Q.push(React.DOM.li({key:P.key,className:"set-bonus-"+s},a.text))}):P.set.ranks[r].required===s&&P.set.ranks[r].attributes.passive.forEach(function(a){Q.push(React.DOM.li({key:P.key,className:"set-bonus-"+s+" inactive"},a.text))})}P.attributesRaw&&P.attributesRaw.Sockets&&P.gems[0]?(d=pa.concat(P.gems[0].item.icon,".png"),P.gems[0].attributes.primary&&P.gems[0].attributes.primary.forEach(function(a){Q.push(React.DOM.li({key:P.key,className:"socket",style:{backgroundImage:"url("+d+")"}})),Q.push(React.DOM.li({key:P.key,className:"gem-passive"},a.text)),Q.push(React.DOM.li({key:P.key,className:"socket",style:{backgroundImage:"url("+d+")"}})),Q.push(React.DOM.li({key:P.key,className:"gem-passive"},a.text)),Q.push(React.DOM.li({key:P.key,className:"socket",style:{backgroundImage:"url("+d+")"}})),Q.push(React.DOM.li({key:P.key,className:"gem-passive"},a.text))})):P.attributesRaw&&P.attributesRaw.Sockets&&(Q.push(React.DOM.li({key:P.key,className:"socket"})),Q.push(React.DOM.li({key:P.key,className:"socket"})),Q.push(React.DOM.li({key:P.key,className:"socket"}))),na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" torso",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:P.key,className:"desc"},React.DOM.ul({key:P.key,className:"stats"},Q))))}if(ma&&ma.hands&&R){switch(a=pa.concat(ma.hands.icon,".png"),G.hands.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(R.attributesRaw&&(R.attributesRaw.Ancient_Rank&&1===R.attributesRaw.Ancient_Rank.min?(c="ancient",S.push(React.DOM.li({key:R.key,className:b+" name"},c+" "+G.hands.name))):(c="",S.push(React.DOM.li({key:R.key,className:b+" name"},G.hands.name)))),R.attributes&&(R.attributes.primary&&R.attributes.primary.forEach(function(a){S.push(React.DOM.li({key:R.key,className:"primary"},a.text))}),R.attributes.secondary&&R.attributes.secondary.forEach(function(a){S.push(React.DOM.li({key:R.key,className:"secondary"},a.text))}),R.attributes.passive&&R.attributes.passive.forEach(function(a){S.push(React.DOM.li({key:R.key,className:"passive"},a.text))})),R.set&&R.set.ranks)for(r=0;r<R.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)R.set.name===setPool[t][0]&&this.state.setRing?g=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:R.set.name!==setPool[t][0]||this.state.setRing||(g=setPool[t][1]);R.set.ranks[r].required===s&&R.set.ranks[r].required<=g?R.set.ranks[r].attributes.primary.forEach(function(a){S.push(React.DOM.li({key:R.key,className:"set-bonus-"+s},a.text))}):R.set.ranks[r].required===s&&R.set.ranks[r].attributes.primary.forEach(function(a){S.push(React.DOM.li({key:R.key,className:"set-bonus-"+s+" inactive"},a.text))}),R.set.ranks[r].required===s&&R.set.ranks[r].required<=g?R.set.ranks[r].attributes.secondary.forEach(function(a){S.push(React.DOM.li({key:R.key,className:"set-bonus-"+s},a.text))}):R.set.ranks[r].required===s&&R.set.ranks[r].attributes.secondary.forEach(function(a){S.push(React.DOM.li({key:R.key,className:"set-bonus-"+s+" inactive"},a.text))}),R.set.ranks[r].required===s&&R.set.ranks[r].required<=g?R.set.ranks[r].attributes.passive.forEach(function(a){S.push(React.DOM.li({key:R.key,className:"set-bonus-"+s},a.text))}):R.set.ranks[r].required===s&&R.set.ranks[r].attributes.passive.forEach(function(a){S.push(React.DOM.li({key:R.key,className:"set-bonus-"+s+" inactive"},a.text))})}na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" hands",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:R.key,className:"desc"},React.DOM.ul({key:R.key,className:"stats"},S))))}if(ma&&ma.feet&&T){switch(a=pa.concat(ma.feet.icon,".png"),G.feet.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(T.attributesRaw&&(T.attributesRaw.Ancient_Rank&&1===T.attributesRaw.Ancient_Rank.min?(c="ancient",U.push(React.DOM.li({key:T.key,className:b+" name"},c+" "+G.feet.name))):(c="",U.push(React.DOM.li({key:T.key,className:b+" name"},G.feet.name)))),T.attributes&&(T.attributes.primary&&T.attributes.primary.forEach(function(a){U.push(React.DOM.li({key:T.key,className:"primary"},a.text))}),T.attributes.secondary&&T.attributes.secondary.forEach(function(a){U.push(React.DOM.li({key:T.key,className:"secondary"},a.text))}),T.attributes.passive&&T.attributes.passive.forEach(function(a){U.push(React.DOM.li({key:T.key,className:"passive"},a.text))})),T.set&&T.set.ranks)for(r=0;r<T.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)T.set.name===setPool[t][0]&&this.state.setRing?h=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:T.set.name!==setPool[t][0]||this.state.setRing||(h=setPool[t][1]);T.set.ranks[r].required===s&&T.set.ranks[r].required<=h?T.set.ranks[r].attributes.primary.forEach(function(a){U.push(React.DOM.li({key:T.key,className:"set-bonus-"+s},a.text))}):T.set.ranks[r].required===s&&T.set.ranks[r].attributes.primary.forEach(function(a){U.push(React.DOM.li({key:T.key,className:"set-bonus-"+s+" inactive"},a.text))}),T.set.ranks[r].required===s&&T.set.ranks[r].required<=h?T.set.ranks[r].attributes.secondary.forEach(function(a){U.push(React.DOM.li({key:T.key,className:"set-bonus-"+s},a.text))}):T.set.ranks[r].required===s&&T.set.ranks[r].attributes.secondary.forEach(function(a){U.push(React.DOM.li({key:T.key,className:"set-bonus-"+s+" inactive"},a.text))}),T.set.ranks[r].required===s&&T.set.ranks[r].required<=h?T.set.ranks[r].attributes.passive.forEach(function(a){U.push(React.DOM.li({key:T.key,className:"set-bonus-"+s},a.text))}):T.set.ranks[r].required===s&&T.set.ranks[r].attributes.passive.forEach(function(a){U.push(React.DOM.li({key:T.key,className:"set-bonus-"+s+" inactive"},a.text))})}na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" feet",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:T.key,className:"desc"},React.DOM.ul({key:T.key,className:"stats"},U))))}if(ma&&ma.shoulders&&L){switch(a=pa.concat(ma.shoulders.icon,".png"),G.shoulders.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(L.attributesRaw&&(L.attributesRaw.Ancient_Rank&&1===L.attributesRaw.Ancient_Rank.min?(c="ancient",M.push(React.DOM.li({key:L.key,className:b+" name"},c+" "+G.shoulders.name))):(c="",M.push(React.DOM.li({key:L.key,className:b+" name"},G.shoulders.name)))),L.attributes&&(L.attributes.primary&&L.attributes.primary.forEach(function(a){M.push(React.DOM.li({key:L.key,className:"primary"},a.text))}),L.attributes.secondary&&L.attributes.secondary.forEach(function(a){M.push(React.DOM.li({key:L.key,className:"secondary"},a.text))}),L.attributes.passive&&L.attributes.passive.forEach(function(a){M.push(React.DOM.li({key:L.key,className:"passive"},a.text))})),L.set&&L.set.ranks)for(r=0;r<L.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)L.set.name===setPool[t][0]&&this.state.setRing?i=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:L.set.name!==setPool[t][0]||this.state.setRing||(i=setPool[t][1]);L.set.ranks[r].required===s&&L.set.ranks[r].required<=i?L.set.ranks[r].attributes.primary.forEach(function(a){M.push(React.DOM.li({key:L.key,className:"set-bonus-"+s},a.text))}):L.set.ranks[r].required===s&&L.set.ranks[r].attributes.primary.forEach(function(a){M.push(React.DOM.li({key:L.key,className:"set-bonus-"+s+" inactive"},a.text))}),L.set.ranks[r].required===s&&L.set.ranks[r].required<=i?L.set.ranks[r].attributes.secondary.forEach(function(a){M.push(React.DOM.li({key:L.key,className:"set-bonus-"+s},a.text))}):L.set.ranks[r].required===s&&L.set.ranks[r].attributes.secondary.forEach(function(a){M.push(React.DOM.li({key:L.key,className:"set-bonus-"+s+" inactive"},a.text))}),L.set.ranks[r].required===s&&L.set.ranks[r].required<=i?L.set.ranks[r].attributes.passive.forEach(function(a){M.push(React.DOM.li({key:L.key,className:"set-bonus-"+s},a.text))}):L.set.ranks[r].required===s&&L.set.ranks[r].attributes.passive.forEach(function(a){M.push(React.DOM.li({key:L.key,className:"set-bonus-"+s+" inactive"},a.text))})}na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" shoulders",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:L.key,className:"desc"},React.DOM.ul({key:L.key,className:"stats"},M))))}if(ma&&ma.legs&&X){switch(a=pa.concat(ma.legs.icon,".png"),G.legs.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(X.attributesRaw&&(X.attributesRaw.Ancient_Rank&&1===X.attributesRaw.Ancient_Rank.min?(c="ancient",Y.push(React.DOM.li({key:X.key,className:b+" name"},c+" "+G.legs.name))):(c="",Y.push(React.DOM.li({key:X.key,className:b+" name"},G.legs.name)))),X.attributes&&(X.attributes.primary&&X.attributes.primary.forEach(function(a){Y.push(React.DOM.li({key:X.key,className:"primary"},a.text))}),X.attributes.secondary&&X.attributes.secondary.forEach(function(a){Y.push(React.DOM.li({key:X.key,className:"secondary"},a.text))}),X.attributes.passive&&X.attributes.passive.forEach(function(a){Y.push(React.DOM.li({key:X.key,className:"passive"},a.text))})),X.set&&X.set.ranks)for(r=0;r<X.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)X.set.name===setPool[t][0]&&this.state.setRing?j=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:X.set.name!==setPool[t][0]||this.state.setRing||(j=setPool[t][1]);X.set.ranks[r].required===s&&X.set.ranks[r].required<=j?X.set.ranks[r].attributes.primary.forEach(function(a){Y.push(React.DOM.li({key:X.key,className:"set-bonus-"+s},a.text))}):X.set.ranks[r].required===s&&X.set.ranks[r].attributes.primary.forEach(function(a){Y.push(React.DOM.li({key:X.key,className:"set-bonus-"+s+" inactive"},a.text))}),X.set.ranks[r].required===s&&X.set.ranks[r].required<=j?X.set.ranks[r].attributes.secondary.forEach(function(a){Y.push(React.DOM.li({key:X.key,className:"set-bonus-"+s},a.text))}):X.set.ranks[r].required===s&&X.set.ranks[r].attributes.secondary.forEach(function(a){Y.push(React.DOM.li({key:X.key,className:"set-bonus-"+s+" inactive"},a.text))}),X.set.ranks[r].required===s&&X.set.ranks[r].required<=j?X.set.ranks[r].attributes.passive.forEach(function(a){Y.push(React.DOM.li({key:X.key,className:"set-bonus-"+s},a.text))}):X.set.ranks[r].required===s&&X.set.ranks[r].attributes.passive.forEach(function(a){Y.push(React.DOM.li({key:X.key,className:"set-bonus-"+s+" inactive"},a.text))})}X.attributesRaw&&X.attributesRaw.Sockets&&X.gems[0]?(d=pa.concat(X.gems[0].item.icon,".png"),X.gems[0].attributes.primary&&X.gems[0].attributes.primary.forEach(function(a){Y.push(React.DOM.li({key:X.key,className:"socket",style:{backgroundImage:"url("+d+")"}})),Y.push(React.DOM.li({key:X.key,className:"gem-passive"},a.text)),Y.push(React.DOM.li({key:X.key,className:"socket",style:{backgroundImage:"url("+d+")"}})),Y.push(React.DOM.li({key:X.key,className:"gem-passive"},a.text))})):X.attributesRaw&&X.attributesRaw.Sockets&&(Y.push(React.DOM.li({key:X.key,className:"socket"})),Y.push(React.DOM.li({key:X.key,className:"socket"}))),na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" legs",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:X.key,className:"desc"},React.DOM.ul({key:X.key,className:"stats"},Y))))}if(ma&&ma.bracers&&V){switch(a=pa.concat(ma.bracers.icon,".png"),G.bracers.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(V.attributesRaw&&(V.attributesRaw.Ancient_Rank&&1===V.attributesRaw.Ancient_Rank.min?(c="ancient",W.push(React.DOM.li({key:V.key,className:b+" name"},c+" "+G.bracers.name))):(c="",W.push(React.DOM.li({key:V.key,className:b+" name"},G.bracers.name)))),V.attributes&&(V.attributes.primary&&V.attributes.primary.forEach(function(a){W.push(React.DOM.li({key:V.key,className:"primary"},a.text))}),V.attributes.secondary&&V.attributes.secondary.forEach(function(a){W.push(React.DOM.li({key:V.key,className:"secondary"},a.text))}),V.attributes.passive&&V.attributes.passive.forEach(function(a){W.push(React.DOM.li({key:V.key,className:"passive"},a.text))})),V.set&&V.set.ranks)for(r=0;r<V.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)V.set.name===setPool[t][0]&&this.state.setRing?k=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:V.set.name!==setPool[t][0]||this.state.setRing||(k=setPool[t][1]);V.set.ranks[r].required===s&&V.set.ranks[r].required<=k?V.set.ranks[r].attributes.primary.forEach(function(a){W.push(React.DOM.li({key:V.key,className:"set-bonus-"+s},a.text))}):V.set.ranks[r].required===s&&V.set.ranks[r].attributes.primary.forEach(function(a){W.push(React.DOM.li({key:V.key,className:"set-bonus-"+s+" inactive"},a.text))}),V.set.ranks[r].required===s&&V.set.ranks[r].required<=k?V.set.ranks[r].attributes.secondary.forEach(function(a){W.push(React.DOM.li({key:V.key,className:"set-bonus-"+s},a.text))}):V.set.ranks[r].required===s&&V.set.ranks[r].attributes.secondary.forEach(function(a){W.push(React.DOM.li({key:V.key,className:"set-bonus-"+s+" inactive"},a.text))}),V.set.ranks[r].required===s&&V.set.ranks[r].required<=k?V.set.ranks[r].attributes.passive.forEach(function(a){W.push(React.DOM.li({key:V.key,className:"set-bonus-"+s},a.text))}):V.set.ranks[r].required===s&&V.set.ranks[r].attributes.passive.forEach(function(a){W.push(React.DOM.li({key:V.key,className:"set-bonus-"+s+" inactive"},a.text))})}na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" bracers",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:V.key,className:"desc"},React.DOM.ul({key:V.key,className:"stats"},W))))}if(ma&&ma.mainHand&&Z){switch(a=pa.concat(ma.mainHand.icon,".png"),G.mainHand.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(Z.attributesRaw&&Z.type){var Za="";Za=Z.type.twoHanded===!0?"(2h)":"(1h)",Z.attributesRaw.Ancient_Rank&&1===Z.attributesRaw.Ancient_Rank.min?(c="ancient",$.push(React.DOM.li({key:Z.key,className:b+" name"},c+" "+G.mainHand.name+" "+Za))):(c="",$.push(React.DOM.li({key:Z.key,className:b+" name"},G.mainHand.name+" "+Za)))}if(Z.dps&&$.push(React.DOM.li({key:Z.key,className:"dps"},Z.dps.max.toString().substring(0,7)+" DPS")),Z.minDamage&&Z.maxDamage&&Z.attributesRaw)for(r=0;r<weaponElementsMin.length;r++)Z.attributesRaw[weaponElementsMin[r]]&&(Z.attributesRaw[DamagePercentAll]&&!Z.attributesRaw[DamageBonusMinPhysical]?(Ta=Z.minDamage.max+Z.attributesRaw[weaponElementsMin[r]].max+Z.attributesRaw[weaponElementsMin[r]].max*Z.attributesRaw[DamagePercentAll].max,Ua=Z.maxDamage.max+Z.attributesRaw[weaponElementsMin[r]].max+Z.attributesRaw[weaponElementsDelta[r]].max+(Z.attributesRaw[weaponElementsMin[r]].max+Z.attributesRaw[weaponElementsDelta[r]].max)*Z.attributesRaw[DamagePercentAll].max,$.push(React.DOM.li({key:Z.key,className:"raw-damage"},Math.round(Ta)+" - "+Math.round(Ua)+" Damage"))):Z.attributesRaw[DamagePercentAll]||Z.attributesRaw[DamageBonusMinPhysical]?(Ta=Z.minDamage.max,Ua=Z.maxDamage.max,$.push(React.DOM.li({key:Z.key,className:"raw-damage"},Math.round(Ta)+" - "+Math.round(Ua)+" Damage"))):(Ta=Z.minDamage.max+Z.attributesRaw[weaponElementsMin[r]].max,Ua=Z.maxDamage.max+Z.attributesRaw[weaponElementsMin[r]].max+Z.attributesRaw[weaponElementsDelta[r]].max,$.push(React.DOM.li({key:Z.key,className:"raw-damage"},Math.round(Ta)+" - "+Math.round(Ua)+" Damage"))));if(Z.attributes&&(Z.attributes.primary&&Z.attributes.primary.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"primary"},a.text))}),Z.attributes.secondary&&Z.attributes.secondary.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"secondary"},a.text))}),Z.attributes.passive&&Z.attributes.passive.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"passive"},a.text))})),Z.set&&Z.set.ranks)for(r=0;r<Z.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)Z.set.name===setPool[t][0]&&this.state.setRing?l=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:Z.set.name!==setPool[t][0]||this.state.setRing||(l=setPool[t][1]);Z.set.ranks[r].required===s&&Z.set.ranks[r].required<=l?Z.set.ranks[r].attributes.primary.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"set-bonus-"+s},a.text))}):Z.set.ranks[r].required===s&&Z.set.ranks[r].attributes.primary.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"set-bonus-"+s+" inactive"},a.text))}),Z.set.ranks[r].required===s&&Z.set.ranks[r].required<=l?Z.set.ranks[r].attributes.secondary.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"set-bonus-"+s},a.text))}):Z.set.ranks[r].required===s&&Z.set.ranks[r].attributes.secondary.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"set-bonus-"+s+" inactive"},a.text))}),Z.set.ranks[r].required===s&&Z.set.ranks[r].required<=l?Z.set.ranks[r].attributes.passive.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"set-bonus-"+s},a.text))}):Z.set.ranks[r].required===s&&Z.set.ranks[r].attributes.passive.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"set-bonus-"+s+" inactive"},a.text))})}Z.attributesRaw&&Z.attributesRaw.Sockets&&Z.gems[0]?(Z.gems[0].attributesRaw.Jewel_Rank?Z.gems[0].attributesRaw.Jewel_Rank&&(d=pa.concat(Z.gems[0].item.icon,".png"),$.push(React.DOM.li({key:Z.key,className:"socket",style:{backgroundImage:"url("+d+")"}},React.DOM.span({key:Z.key,className:"gem-level"},Z.gems[0].attributesRaw.Jewel_Rank.min)))):(d=pa.concat(Z.gems[0].item.icon,".png"),$.push(React.DOM.li({key:Z.key,className:"socket",style:{backgroundImage:"url("+d+")"}}))),Z.gems[0].attributes.primary&&Z.gems[0].attributes.primary.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"gem-passive"},a.text))}),Z.gems[0].attributes.passive&&Z.gems[0].attributes.passive.forEach(function(a){$.push(React.DOM.li({key:Z.key,className:"gem-passive"},a.text))})):Z.attributesRaw&&Z.attributesRaw.Sockets&&$.push(React.DOM.li({key:Z.key,className:"socket"})),na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" mainHand",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:Z.key,className:"desc"},React.DOM.ul({key:Z.key,className:"stats"},$))))}if(ma&&ma.offHand&&_){switch(a=pa.concat(ma.offHand.icon,".png"),G.offHand.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(_.attributesRaw&&_.type){var $a="";$a=_.type.twoHanded===!0?"(2h)":_.type.twoHanded!==!0&&_.dps?"(1h)":"",_.attributesRaw.Ancient_Rank&&1===_.attributesRaw.Ancient_Rank.min?(c="ancient",aa.push(React.DOM.li({key:_.key,className:b+" name"},c+" "+G.offHand.name+" "+$a))):(c="",aa.push(React.DOM.li({key:_.key,className:b+" name"},G.offHand.name+" "+$a)))}if(_.dps&&aa.push(React.DOM.li({key:_.key,className:"dps"},_.dps.max.toString().substring(0,8)+" DPS")),_.minDamage&&_.maxDamage&&_.attributesRaw)for(r=0;r<weaponElementsMin.length;r++)_.attributesRaw[weaponElementsMin[r]]&&(_.attributesRaw[DamagePercentAll]&&!_.attributesRaw[DamageBonusMinPhysical]?aa.push(React.DOM.li({key:_.key,className:"raw-damage"},Math.round(_.minDamage.max+_.attributesRaw[weaponElementsMin[r]].max+_.attributesRaw[weaponElementsMin[r]].max*_.attributesRaw[DamagePercentAll].max)+" - "+Math.round(_.maxDamage.max+_.attributesRaw[weaponElementsMin[r]].max+_.attributesRaw[weaponElementsDelta[r]].max+(_.attributesRaw[weaponElementsMin[r]].max+_.attributesRaw[weaponElementsDelta[r]].max)*_.attributesRaw[DamagePercentAll].max)+" Damage")):_.attributesRaw[DamagePercentAll]||_.attributesRaw[DamageBonusMinPhysical]?aa.push(React.DOM.li({key:_.key,className:"raw-damage"},Math.round(_.minDamage.max)+" - "+Math.round(_.maxDamage.max)+" Damage")):aa.push(React.DOM.li({key:_.key,className:"raw-damage"},Math.round(_.minDamage.max+_.attributesRaw[weaponElementsMin[r]].max)+" - "+Math.round(_.maxDamage.max+_.attributesRaw[weaponElementsMin[r]].max+_.attributesRaw[weaponElementsDelta[r]].max)+" Damage")));if(_.attributes&&(_.attributes.primary&&_.attributes.primary.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"primary"},a.text))}),_.attributes.secondary&&_.attributes.secondary.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"secondary"},a.text))}),_.attributes.passive&&_.attributes.passive.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"passive"},a.text))})),_.set&&_.set.ranks)for(r=0;r<_.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)_.set.name===setPool[t][0]&&this.state.setRing?m=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:_.set.name!==setPool[t][0]||this.state.setRing||(m=setPool[t][1]);_.set.ranks[r].required===s&&_.set.ranks[r].required<=m?_.set.ranks[r].attributes.primary.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"set-bonus-"+s},a.text))}):_.set.ranks[r].required===s&&_.set.ranks[r].attributes.primary.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"set-bonus-"+s+" inactive"},a.text))}),_.set.ranks[r].required===s&&_.set.ranks[r].required<=m?_.set.ranks[r].attributes.secondary.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"set-bonus-"+s},a.text))}):_.set.ranks[r].required===s&&_.set.ranks[r].attributes.secondary.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"set-bonus-"+s+" inactive"},a.text))}),_.set.ranks[r].required===s&&_.set.ranks[r].required<=m?_.set.ranks[r].attributes.passive.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"set-bonus-"+s},a.text))}):_.set.ranks[r].required===s&&_.set.ranks[r].attributes.passive.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"set-bonus-"+s+" inactive"},a.text))})}_.attributesRaw&&_.attributesRaw.Sockets&&_.gems[0]?(_.gems[0].attributesRaw.Jewel_Rank?_.gems[0].attributesRaw.Jewel_Rank&&(d=pa.concat(_.gems[0].item.icon,".png"),aa.push(React.DOM.li({key:_.key,className:"socket",style:{backgroundImage:"url("+d+")"}},React.DOM.span({key:_.key,className:"gem-level"},_.gems[0].attributesRaw.Jewel_Rank.min)))):(d=pa.concat(_.gems[0].item.icon,".png"),aa.push(React.DOM.li({key:_.key,className:"socket",style:{backgroundImage:"url("+d+")"}}))),_.gems[0].attributes.primary&&_.gems[0].attributes.primary.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"gem-passive"},a.text))}),_.gems[0].attributes.passive&&_.gems[0].attributes.passive.forEach(function(a){aa.push(React.DOM.li({key:_.key,className:"gem-passive"},a.text))})):_.attributesRaw&&_.attributesRaw.Sockets&&aa.push(React.DOM.li({key:_.key,className:"socket"})),na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" offHand",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:_.key,className:"desc"},React.DOM.ul({key:_.key,className:"stats"},aa))))}if(ma&&ma.waist&&ba){switch(a=pa.concat(ma.waist.icon,".png"),G.waist.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(ba.attributesRaw&&(ba.attributesRaw.Ancient_Rank&&1===ba.attributesRaw.Ancient_Rank.min?(c="ancient",ca.push(React.DOM.li({key:ba.key,className:b+" name"},c+" "+G.waist.name))):(c="",ca.push(React.DOM.li({key:ba.key,className:b+" name"},G.waist.name)))),ba.attributes&&(ba.attributes.primary&&ba.attributes.primary.forEach(function(a){ca.push(React.DOM.li({key:ba.key,className:"primary"},a.text))}),ba.attributes.secondary&&ba.attributes.secondary.forEach(function(a){ca.push(React.DOM.li({key:ba.key,className:"secondary"},a.text))}),ba.attributes.passive&&ba.attributes.passive.forEach(function(a){ca.push(React.DOM.li({key:ba.key,className:"passive"},a.text))})),ba.set&&ba.set.ranks)for(r=0;r<ba.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)ba.set.name===setPool[t][0]&&this.state.setRing?n=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:ba.set.name!==setPool[t][0]||this.state.setRing||(n=setPool[t][1]);ba.set.ranks[r].required===s&&ba.set.ranks[r].required<=n?ba.set.ranks[r].attributes.primary.forEach(function(a){ca.push(React.DOM.li({key:ba.key,className:"set-bonus-"+s},a.text))}):ba.set.ranks[r].required===s&&ba.set.ranks[r].attributes.primary.forEach(function(a){ca.push(React.DOM.li({key:ba.key,className:"set-bonus-"+s+" inactive"},a.text))}),ba.set.ranks[r].required===s&&ba.set.ranks[r].required<=n?ba.set.ranks[r].attributes.secondary.forEach(function(a){ca.push(React.DOM.li({key:ba.key,className:"set-bonus-"+s},a.text))}):ba.set.ranks[r].required===s&&ba.set.ranks[r].attributes.secondary.forEach(function(a){ca.push(React.DOM.li({key:ba.key,className:"set-bonus-"+s+" inactive"},a.text))}),ba.set.ranks[r].required===s&&ba.set.ranks[r].required<=n?ba.set.ranks[r].attributes.passive.forEach(function(a){ca.push(React.DOM.li({key:ba.key,className:"set-bonus-"+s},a.text))}):ba.set.ranks[r].required===s&&ba.set.ranks[r].attributes.passive.forEach(function(a){ca.push(React.DOM.li({key:ba.key,className:"set-bonus-"+s+" inactive"},a.text))})}na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" waist",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:ba.key,className:"desc"},React.DOM.ul({key:ba.key,className:"stats"},ca))))}if(ma&&ma.rightFinger&&ia){switch(a=pa.concat(ma.rightFinger.icon,".png"),G.rightFinger.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(ia.attributesRaw&&(ia.attributesRaw.Ancient_Rank&&1===ia.attributesRaw.Ancient_Rank.min?(c="ancient",ha.push(React.DOM.li({key:ia.key,className:b+" name"},c+" "+G.rightFinger.name))):(c="",ha.push(React.DOM.li({key:ia.key,className:b+" name"},G.rightFinger.name)))),ia.attributes&&(ia.attributes.primary&&ia.attributes.primary.forEach(function(a){ha.push(React.DOM.li({key:ia.key,className:"primary"},a.text))}),ia.attributes.secondary&&ia.attributes.secondary.forEach(function(a){"orange"!==a.color?ha.push(React.DOM.li({key:ia.key,className:"secondary"},a.text)):ha.push(React.DOM.li({key:ia.key,className:"passive"},a.text))}),ia.attributes.passive&&ia.attributes.passive.forEach(function(a){ha.push(React.DOM.li({key:ia.key,className:"passive"},a.text))})),ia.set&&ia.set.ranks)for(r=0;r<ia.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)ia.set.name===setPool[t][0]&&this.state.setRing?o=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:ia.set.name!==setPool[t][0]||this.state.setRing||(o=setPool[t][1]);ia.set.ranks[r].required===s&&ia.set.ranks[r].required<=o?ia.set.ranks[r].attributes.primary.forEach(function(a){ha.push(React.DOM.li({key:ia.key,className:"set-bonus-"+s},a.text))}):ia.set.ranks[r].required===s&&ia.set.ranks[r].attributes.primary.forEach(function(a){
ha.push(React.DOM.li({key:ia.key,className:"set-bonus-"+s+" inactive"},a.text))}),ia.set.ranks[r].required===s&&ia.set.ranks[r].required<=o?ia.set.ranks[r].attributes.secondary.forEach(function(a){ha.push(React.DOM.li({key:ia.key,className:"set-bonus-"+s},a.text))}):ia.set.ranks[r].required===s&&ia.set.ranks[r].attributes.secondary.forEach(function(a){ha.push(React.DOM.li({key:ia.key,className:"set-bonus-"+s+" inactive"},a.text))}),ia.set.ranks[r].required===s&&ia.set.ranks[r].required<=o?ia.set.ranks[r].attributes.passive.forEach(function(a){ha.push(React.DOM.li({key:ia.key,className:"set-bonus-"+s},a.text))}):ia.set.ranks[r].required===s&&ia.set.ranks[r].attributes.passive.forEach(function(a){ha.push(React.DOM.li({key:ia.key,className:"set-bonus-"+s+" inactive"},a.text))})}ia.attributesRaw&&ia.attributesRaw.Sockets&&ia.gems[0]&&ia.gems[0].attributesRaw.Jewel_Rank?(d=pa.concat(ia.gems[0].item.icon,".png"),ha.push(React.DOM.li({key:ia.key,className:"socket",style:{backgroundImage:"url("+d+")"}},React.DOM.span({key:ia.key,className:"gem-level"},ia.gems[0].attributesRaw.Jewel_Rank.min))),ia.gems[0].attributes.passive.forEach(function(a){ha.push(React.DOM.li({key:ia.key,className:"gem-passive unique"},a.text))})):ia.attributesRaw&&ia.attributesRaw.Sockets&&ha.push(React.DOM.li({key:ia.key,className:"socket"})),na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" rightFinger",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:ia.key,className:"desc"},React.DOM.ul({key:ia.key,className:"stats"},ha))))}if(ma&&ma.leftFinger&&fa){switch(a=pa.concat(ma.leftFinger.icon,".png"),G.leftFinger.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(fa.attributesRaw&&(fa.attributesRaw.Ancient_Rank&&1===fa.attributesRaw.Ancient_Rank.min?(c="ancient",ga.push(React.DOM.li({key:fa.key,className:b+" name"},c+" "+G.leftFinger.name))):(c="",ga.push(React.DOM.li({key:fa.key,className:b+" name"},G.leftFinger.name)))),fa.attributes&&(fa.attributes.primary&&fa.attributes.primary.forEach(function(a){ga.push(React.DOM.li({key:fa.key,className:"primary"},a.text))}),fa.attributes.secondary&&fa.attributes.secondary.forEach(function(a){ga.push(React.DOM.li({key:fa.key,className:"secondary"},a.text))}),fa.attributes.passive?fa.attributes.passive.forEach(function(a){ga.push(React.DOM.li({key:fa.key,className:"passive"},a.text))}):c=""),fa.set&&fa.set.ranks)for(r=0;r<fa.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)fa.set.name===setPool[t][0]&&this.state.setRing?p=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:fa.set.name!==setPool[t][0]||this.state.setRing||(p=setPool[t][1]);fa.set.ranks[r].required===s&&fa.set.ranks[r].required<=p?fa.set.ranks[r].attributes.primary.forEach(function(a){ga.push(React.DOM.li({key:fa.key,className:"set-bonus-"+s},a.text))}):fa.set.ranks[r].required===s&&fa.set.ranks[r].attributes.primary.forEach(function(a){ga.push(React.DOM.li({key:fa.key,className:"set-bonus-"+s+" inactive"},a.text))}),fa.set.ranks[r].required===s&&fa.set.ranks[r].required<=p?fa.set.ranks[r].attributes.secondary.forEach(function(a){ga.push(React.DOM.li({key:fa.key,className:"set-bonus-"+s},a.text))}):fa.set.ranks[r].required===s&&fa.set.ranks[r].attributes.secondary.forEach(function(a){ga.push(React.DOM.li({key:fa.key,className:"set-bonus-"+s+" inactive"},a.text))}),fa.set.ranks[r].required===s&&fa.set.ranks[r].required<=p?fa.set.ranks[r].attributes.passive.forEach(function(a){ga.push(React.DOM.li({key:fa.key,className:"set-bonus-"+s},a.text))}):fa.set.ranks[r].required===s&&fa.set.ranks[r].attributes.passive.forEach(function(a){ga.push(React.DOM.li({key:fa.key,className:"set-bonus-"+s+" inactive"},a.text))})}fa.attributesRaw&&fa.attributesRaw.Sockets&&fa.gems[0]&&fa.gems[0].attributesRaw.Jewel_Rank?(d=pa.concat(fa.gems[0].item.icon,".png"),ga.push(React.DOM.li({key:fa.key,className:"socket",style:{backgroundImage:"url("+d+")"}},React.DOM.span({key:fa.key,className:"gem-level"},fa.gems[0].attributesRaw.Jewel_Rank.min))),fa.gems[0].attributes.passive.forEach(function(a){ga.push(React.DOM.li({key:fa.key,className:"gem-passive unique"},a.text))})):fa.attributesRaw&&fa.attributesRaw.Sockets&&ga.push(React.DOM.li({key:fa.key,className:"socket"})),na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" leftFinger",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:fa.key,className:"desc"},React.DOM.ul({key:fa.key,className:"stats"},ga))))}if(ma&&ma.neck&&da){switch(a=pa.concat(ma.neck.icon,".png"),G.neck.displayColor){case"green":b="set";break;case"orange":b="unique";break;case"blue":b="magic";break;case"yellow":b="rare";break;case"white":b="white";break;case"gray":b="common"}if(da.attributesRaw&&(da.attributesRaw.Ancient_Rank&&1===da.attributesRaw.Ancient_Rank.min?(c="ancient",ea.push(React.DOM.li({key:da.key,className:b+" name"},c+" "+G.neck.name))):(c="",ea.push(React.DOM.li({key:da.key,className:b+" name"},G.neck.name)))),da.attributes&&(da.attributes.primary&&da.attributes.primary.forEach(function(a){ea.push(React.DOM.li({key:da.key,className:"primary"},a.text))}),da.attributes.secondary&&da.attributes.secondary.forEach(function(a){ea.push(React.DOM.li({key:da.key,className:"secondary"},a.text))}),da.attributes.passive&&da.attributes.passive.forEach(function(a){ea.push(React.DOM.li({key:da.key,className:"passive"},a.text))})),da.set&&da.set.ranks)for(r=0;r<da.set.ranks.length;r++)for(s=1;6>=s;s++){for(t=0;t<setPool.length;t++)da.set.name===setPool[t][0]&&this.state.setRing?q=setPool[t][1]>=2?setPool[t][1]++:setPool[t][1]:da.set.name!==setPool[t][0]||this.state.setRing||(q=setPool[t][1]);da.set.ranks[r].required===s&&da.set.ranks[r].required<=q?da.set.ranks[r].attributes.primary.forEach(function(a){ea.push(React.DOM.li({key:da.key,className:"set-bonus-"+s},a.text))}):da.set.ranks[r].required===s&&da.set.ranks[r].attributes.primary.forEach(function(a){ea.push(React.DOM.li({key:da.key,className:"set-bonus-"+s+" inactive"},a.text))}),da.set.ranks[r].required===s&&da.set.ranks[r].required<=q?da.set.ranks[r].attributes.secondary.forEach(function(a){ea.push(React.DOM.li({key:da.key,className:"set-bonus-"+s},a.text))}):da.set.ranks[r].required===s&&da.set.ranks[r].attributes.secondary.forEach(function(a){ea.push(React.DOM.li({key:da.key,className:"set-bonus-"+s+" inactive"},a.text))}),da.set.ranks[r].required===s&&da.set.ranks[r].required<=q?da.set.ranks[r].attributes.passive.forEach(function(a){ea.push(React.DOM.li({key:da.key,className:"set-bonus-"+s},a.text))}):da.set.ranks[r].required===s&&da.set.ranks[r].attributes.passive.forEach(function(a){ea.push(React.DOM.li({key:da.key,className:"set-bonus-"+s+" inactive"},a.text))})}da.attributesRaw&&da.attributesRaw.Sockets&&da.gems[0]&&da.gems[0].attributesRaw.Jewel_Rank?(d=pa.concat(da.gems[0].item.icon,".png"),ea.push(React.DOM.li({key:da.key,className:"socket",style:{backgroundImage:"url("+d+")"}},React.DOM.span({key:da.key,className:"gem-level"},da.gems[0].attributesRaw.Jewel_Rank.min))),da.gems[0].attributes.passive.forEach(function(a){ea.push(React.DOM.li({key:da.key,className:"gem-passive unique"},a.text))})):da.attributesRaw&&da.attributesRaw.Sockets&&ea.push(React.DOM.li({key:da.key,className:"socket"})),na.push(React.DOM.div({key:ma.key,className:qa+" "+c+" "+b+" neck",onClick:this.handleItemClick,style:{backgroundImage:"url("+a+")"}},React.DOM.div({key:da.key,className:"desc"},React.DOM.ul({key:da.key,className:"stats"},ea))))}if(K.attributes&&G&&K.attributes.passive[0]&&-1!==K.attributes.passive[0].text.search("passive")&&G.neck&&"Hellfire Amulet"===G.neck.name){switch(hellfirePassiveLink=K.attributes.passive[0].text.substring(9).replace(" passive.","").replace(/ /g,"").toLowerCase(),hellfirePassiveDisplay=K.attributes.passive[0].text.substring(9).replace(" passive.",""),H){case"demon-hunter":a=oa.concat("demonhunter_passive_",hellfirePassiveLink);break;case"witch-doctor":a=oa.concat("witchdoctor_passive_",hellfirePassiveLink);break;case"barbarian":a=oa.concat("barbarian_passive_",hellfirePassiveLink);break;case"crusader":a=oa.concat("crusader_passive_",hellfirePassiveLink);break;case"monk":a=oa.concat("monk_passive_",hellfirePassiveLink);break;case"wizard":a=oa.concat("wizard_passive_",hellfirePassiveLink);break;default:console.log("new class?")}ja.push(React.DOM.div({key:K.key,className:"hasIcon"},hellfirePassiveDisplay," (HA)",React.DOM.div({key:K.key,className:"icon",style:{backgroundImage:"url("+a+".png)"}})))}if(A&&A.life&&A.damage&&A.toughness&&A.vitality&&(B.push(React.DOM.div({key:A.key},"Life: ",Math.round(A.life+A.life*Ra/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))),B.push(React.DOM.div({key:A.key},"Toughness: ",Math.round(A.toughness).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))),"demon-hunter"===H||"monk"===H?(B.push(React.DOM.div({key:A.key},"Dexterity: ",A.dexterity.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))),A.strength>1e3&&B.push(React.DOM.div({key:A.key},"Strength: ",A.strength.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))),A.intelligence>1e3&&B.push(React.DOM.div({key:A.key},"Intelligence: ",A.intelligence.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")))):"witch-doctor"===H||"wizard"===H?(B.push(React.DOM.div({key:A.key},"Intelligence: ",A.intelligence.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))),A.strength>1e3&&B.push(React.DOM.div({key:A.key},"Strength: ",A.strength.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))),A.dexterity>1e3&&B.push(React.DOM.div({key:A.key},"Dexterity: ",A.dexterity.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")))):("barbarian"===H||"crusader"===H)&&(B.push(React.DOM.div({key:A.key},"Strength: ",A.strength.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))),A.dexterity>1e3&&B.push(React.DOM.div({key:A.key},"Dexterity: ",A.dexterity.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))),A.intelligence>1e3&&B.push(React.DOM.div({key:A.key},"Intelligence: ",A.intelligence.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")))),B.push(React.DOM.div({key:A.key},"Vitality: ",A.vitality.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))),B.push(React.DOM.div({key:A.key},"Armor: ",Math.round(A.armor+A.armor*Qa/100))),0!==A.damageIncrease&&B.push(React.DOM.div({key:A.key},"Damage Increase: ",A.damageIncrease)),0!==A.damageReduction&&B.push(React.DOM.div({key:A.key},"Damage Increase: ",A.damageReduction))),sa&&A&&(A.critChance?sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Critical Hit Chance: "+Math.round(1e3*(100*A.critChance+Ma))/1e3+"%")):A.critChance||0===Ma||sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Critical Hit Chance: "+Math.round(1e3*Ma)/1e3+"%")),A.critDamage?sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Critical Damage increase: "+Math.round(1e3*(100*A.critDamage+La-100))/1e3+"%")):A.critDamage||0===La||sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Critical Damage increase: "+Math.round(1e3*(La-100))/1e3+"%")),1!==ua&&sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Cooldown Reduction: "+Math.round(100*(1-ua)*100)/100+"%")),1!==va&&sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Resource Cost Reduction: "+Math.round(100*(1-va)*100)/100+"%")),Z.attacksPerSecond&&_.attacksPerSecond?(Sa=Z.attacksPerSecond.max+Z.attacksPerSecond.max*(.15+Ga+Ja/100),sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Attacks per Second: "+Math.round(100*Sa)/100))):Z.attacksPerSecond?(Sa=Z.attacksPerSecond.max+Z.attacksPerSecond.max*(Ga+Ja/100),sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Attacks per Second: "+Math.round(100*Sa)/100))):Z.attacksPerSecond||0===Ja||(Sa=Ja/100,sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Attacks per Second: "+Math.round(100*Sa)/100))),0!==wa&&sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Bonus Damage to Elites: "+wa+"%")),0!==ya?sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Area Bonus Damage: "+(ya+Na)+"%")):0!==Na&&sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Area Bonus Damage: "+Na+"%")),0!==Ca&&sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},Ca)),A.primaryResource?sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Primary Resource: "+(A.primaryResource+Oa))):0!==Oa&&sa.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Primary Resource: "+Oa)),Ea&&sa.push(React.DOM.div({dangerouslySetInnerHTML:{__html:"Skill Damage: "+Ea},key:sa.key,className:"bonusstat"}))),A&&A.critDamage&&A.critChance&&Sa&&0!==Ta&&0!==Ua){var _a,ab,bb,cb=A.dexterity/100,db=.5*(Ta+Ua),eb=A.critChance+Ma/100,fb=A.critDamage-1+La/100,gb=(1+cb)*db,hb=eb,ib=fb,jb=0,kb=0,lb=3,mb=1,nb=[];if(this.state.skillDmgRaw)for(r=0;r<this.state.skillDmgRaw.length;r++)u.forEach(function(a){a.skill&&-1!=Fa[r].search(a.skill.name.toString())&&nb.push([lb,Fa[r]])});for(r=0;r<passiveBuffPool.length;r++)x.forEach(function(a){a.skill&&a.skill.name===passiveBuffPool[r][0]&&("Damage"===passiveBuffPool[r][1]&&(jb+=passiveBuffPool[r][2]),"Crit Chance"===passiveBuffPool[r][1]&&(hb+=passiveBuffPool[r][2]))});for(r=0;r<skillBuffPool.length;r++)u.forEach(function(a){a.skill&&a.rune?(a.skill.name===skillBuffPool[r][0]||a.rune.name===skillBuffPool[r][0])&&"Damage"===skillBuffPool[r][1]&&(jb+=skillBuffPool[r][2]):a.skill&&a.skill.name===skillBuffPool[r][0]&&"Damage"===skillBuffPool[r][1]&&(jb+=skillBuffPool[r][2])});this.state.maxEleDmgValue&&(kb+=this.state.maxEleDmgValue/100),ab=nb.sort(),bb=ab[0]?ab[0][0]*(1+parseFloat(ab[0][1]))*(1+kb):1,_a=gb*Sa*(hb*ib+1)*bb*(1+jb)*(1+mb),_a?B.push(React.DOM.div({key:"dps"},"DPS: ",Math.round(gb*Sa*(eb*fb+1)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")," | EDPS: ",Math.round(_a).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))):B.push(React.DOM.div({key:"dps"},"DPS: ",Math.round(gb*Sa*(eb*fb+1)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")," | EDPS: ","Calculating EDPS.."))}return ta&&A&&(A.secondaryResource&&ta.push(React.DOM.div({key:sa.key,className:"bonusstat"},"Secondary Resource: "+A.secondaryResource)),A.physicalResist?ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Physical Resist: "+(A.physicalResist+Pa))):0!==Pa&&ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Physical Resist: "+Pa)),A.fireResist?ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Fire Resist: "+(A.fireResist+Pa))):0!==Pa&&ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Fire Resist: "+Pa)),A.coldResist?ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Cold Resist: "+(A.coldResist+Pa))):0!==Pa&&ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Cold Resist: "+Pa)),A.lightningResist?ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Lighting Resist: "+(A.lightningResist+Pa))):0!==Pa&&ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Lighting Resist: "+Pa)),A.poisonResist?ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Poison Resist: "+(A.poisonResist+Pa))):0!==Pa&&ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Poison Resist: "+Pa)),0!==za&&ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Gold Pick-up Radius: "+za+" yards")),1!==Aa&&ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Melee Damage Reduction: "+Math.round(100*(1-Aa)*1e3)/1e3+"%")),1!==Ba&&ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Ranged Damage Reduction: "+Math.round(100*(1-Ba)*1e3)/1e3+"%")),0!==xa&&ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Damage Reduction from Elites: "+xa+"%")),0!==Da&&ta.push(React.DOM.div({key:ta.key,className:"bonusstat"},"Bonus Max Health: "+Da+"%"))),Ha.push(React.DOM.div({key:Ha.key,className:"paragon-stat cdr"},"cdr: "+Math.round(10*Ia)/10+"%",React.DOM.span({key:Ha.key,className:"paragon-stat-increment",onClick:this.handleParagon},"+"),React.DOM.span({key:Ha.key,className:"paragon-stat-decrement",onClick:this.handleParagon},"-"),React.DOM.span({key:Ha.key,className:"paragon-stat-max",onClick:this.handleParagon}))),Ha.push(React.DOM.div({key:Ha.key,className:"paragon-stat resred"},"res: "+Math.round(10*Ka)/10+"%",React.DOM.span({key:Ha.key,className:"paragon-stat-increment",onClick:this.handleParagon},"+"),React.DOM.span({key:Ha.key,className:"paragon-stat-decrement",onClick:this.handleParagon},"-"),React.DOM.span({key:Ha.key,className:"paragon-stat-max",onClick:this.handleParagon}))),Ha.push(React.DOM.div({key:Ha.key,className:"paragon-stat atkspd"},"atkspd: "+Math.round(10*Ja)/10+"%",React.DOM.span({key:Ha.key,className:"paragon-stat-increment",onClick:this.handleParagon},"+"),React.DOM.span({key:Ha.key,className:"paragon-stat-decrement",onClick:this.handleParagon},"-"),React.DOM.span({key:Ha.key,className:"paragon-stat-max",onClick:this.handleParagon}))),Ha.push(React.DOM.div({key:Ha.key,className:"paragon-stat critdmg"},"critdmg: "+Math.round(La)+"%",React.DOM.span({key:Ha.key,className:"paragon-stat-increment",onClick:this.handleParagon},"+"),React.DOM.span({key:Ha.key,className:"paragon-stat-decrement",onClick:this.handleParagon},"-"),React.DOM.span({key:Ha.key,className:"paragon-stat-max",onClick:this.handleParagon}))),Ha.push(React.DOM.div({key:Ha.key,className:"paragon-stat critchance"},"critchance: "+Math.round(10*Ma)/10+"%",React.DOM.span({key:Ha.key,className:"paragon-stat-increment",onClick:this.handleParagon},"+"),React.DOM.span({key:Ha.key,className:"paragon-stat-decrement",onClick:this.handleParagon},"-"),React.DOM.span({key:Ha.key,className:"paragon-stat-max",onClick:this.handleParagon}))),Ha.push(React.DOM.div({key:Ha.key,className:"paragon-stat areadmg"},"areadmg: "+Math.round(Na)+"%",React.DOM.span({key:Ha.key,className:"paragon-stat-increment",onClick:this.handleParagon},"+"),React.DOM.span({key:Ha.key,className:"paragon-stat-decrement",onClick:this.handleParagon},"-"),React.DOM.span({key:Ha.key,className:"paragon-stat-max",onClick:this.handleParagon}))),Ha.push(React.DOM.div({key:Ha.key,className:"paragon-stat resource"},"resource: "+Math.round(Oa),React.DOM.span({key:Ha.key,className:"paragon-stat-increment",onClick:this.handleParagon},"+"),React.DOM.span({key:Ha.key,className:"paragon-stat-decrement",onClick:this.handleParagon},"-"),React.DOM.span({key:Ha.key,className:"paragon-stat-max",onClick:this.handleParagon}))),Ha.push(React.DOM.div({key:Ha.key,className:"paragon-stat resistall"},"allres: "+Math.round(Pa),React.DOM.span({key:Ha.key,className:"paragon-stat-increment",onClick:this.handleParagon},"+"),React.DOM.span({key:Ha.key,className:"paragon-stat-decrement",onClick:this.handleParagon},"-"),React.DOM.span({key:Ha.key,className:"paragon-stat-max",onClick:this.handleParagon}))),Ha.push(React.DOM.div({key:Ha.key,className:"paragon-stat armor"},"armor: "+Math.round(10*Qa)/10+"%",React.DOM.span({key:Ha.key,className:"paragon-stat-increment",onClick:this.handleParagon},"+"),React.DOM.span({key:Ha.key,className:"paragon-stat-decrement",onClick:this.handleParagon},"-"),React.DOM.span({key:Ha.key,className:"paragon-stat-max",onClick:this.handleParagon}))),Ha.push(React.DOM.div({key:Ha.key,className:"paragon-stat maxlife"},"maxlife: "+Math.round(10*Ra)/10+"%",React.DOM.span({key:Ha.key,className:"paragon-stat-increment",onClick:this.handleParagon},"+"),React.DOM.span({key:Ha.key,className:"paragon-stat-decrement",onClick:this.handleParagon},"-"),React.DOM.span({key:Ha.key,className:"paragon-stat-max",onClick:this.handleParagon}))),localStorage.setItem("paragonCdr",this.state.paragonCdr),localStorage.setItem("paragonResRed",this.state.paragonResRed),localStorage.setItem("paragonAtkSpd",this.state.paragonAtkSpd),localStorage.setItem("paragonCritDmg",this.state.paragonCritDmg),localStorage.setItem("paragonCritChance",this.state.paragonCritChance),localStorage.setItem("paragonAreaDmg",this.state.paragonAreaDmg),localStorage.setItem("paragonResource",this.state.paragonResource),localStorage.setItem("paragonResistAll",this.state.paragonResistAll),localStorage.setItem("paragonArmor",this.state.paragonArmor),localStorage.setItem("paragonMaxHealth",this.state.paragonMaxHealth),React.DOM.div({className:"d3-container"},React.DOM.div({className:"d3-item-wrapper"},na),React.DOM.div({className:"d3-char-bg",style:la}),React.DOM.div({className:"d3-realm-wrapper"},"1 - Realm: ",React.DOM.select({className:"d3-realm",ref:"select",value:this.state.realm,onChange:this.setRealm},E)),React.DOM.div({className:"d3-api-url"},"2 - Enter your BattleTag: ",React.DOM.input({value:this.state.battleTag,placeholder:"NAME#1234",onChange:this.handleChange})),React.DOM.div({className:"d3-char-wrapper"},"3 - Click below to select your hero: ",React.DOM.select({className:"d3-chars",ref:"select",value:this.state.selected,onChange:this.setSelect},D)),React.DOM.div({className:this.state.panels,id:"panel-left"},"General",ka,React.DOM.div({className:"d3-paragon-selector"},"Paragon Points: ",Ha)),React.DOM.div({className:this.state.skillDescOpen+" "+this.state.panels,title:"click to open detailed description",id:"panel-bottom-left"},React.DOM.button({onClick:this.handleSkillDescClick},"show details"),"Skills",v),React.DOM.div({className:this.state.skillDescOpen,id:"panel-bottom-left-desc"},React.DOM.button({onClick:this.handleSkillDescClick,title:"click to close"},"close"),w),React.DOM.div({className:this.state.passiveDescOpen+" "+this.state.panels,title:"click to open detailed description",id:"panel-bottom-right"},React.DOM.button({onClick:this.handlePassiveDescClick},"show details"),"Passives",y,ja),React.DOM.div({className:this.state.passiveDescOpen,id:"panel-bottom-right-desc"},React.DOM.button({onClick:this.handlePassiveDescClick,title:"click to close"},"close"),z,"Note: your Hellfire Passive cannot be displayed here, courtesy of blizzard"),React.DOM.div({className:this.state.toggle+" "+this.state.panels,id:"panel-right"},React.DOM.button({onClick:this.handleBonusStatsClick,title:"click to show/hide more stats"},"show "+this.state.toggle),"Stats",B),React.DOM.div({id:"panel-right-additional"},"Offensive Stats",sa,"Defensive Stats",ta))}});React.render(React.createElement(DataWrapper,{pollInterval:6e5}),document.getElementById("profile-data"));